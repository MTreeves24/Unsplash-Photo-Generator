(this.webpackJsonpunsplash=this.webpackJsonpunsplash||[]).push([[0],{17:function(e,t,a){},20:function(e,t,a){e.exports=a(43)},43:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),s=a.n(c),i=a(6),o=a.n(i),u=a(7),l=a(2),m=a(3),h=a(4),p=a(5),f=a(19),d=a.n(f).a.create({baseURL:"https://api.unsplash.com",headers:{Authorization:"Client-ID eb4a06eb9f76b61bfcaf54a39d56670f1fb1688a692b2330e6d44e51b86edff5"}}),b=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={term:""},e.onFormSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.term)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"ui segment gradient-border"},n.a.createElement("form",{onSubmit:this.onFormSubmit,className:"ui form"},n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Image Search"),n.a.createElement("input",{className:"searchBarQuery",placeholder:"Search the Unsplash library here",type:"text",value:this.state.term,onChange:function(t){return e.setState({term:t.target.value})},required:!0}))))}}]),a}(n.a.Component),g=(a(17),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).clickThrough=function(){var e=r.imageRef.current.src;r.setState({link:e})},r.loadMoreButtonClick=function(){console.log("clicked")},r.setSpans=function(){var e=r.imageRef.current.clientHeight,t=Math.ceil(e/10);r.setState({spans:t})},r.state={spans:0,link:""},r.imageRef=n.a.createRef(),r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.imageRef.current.addEventListener("load",this.setSpans),this.imageRef.current.addEventListener("click",this.clickThrough)}},{key:"render",value:function(){var e=this.props.image,t=e.description,a=e.urls;return n.a.createElement("div",{style:{gridRowEnd:"span ".concat(this.state.spans)}},n.a.createElement("a",{href:this.state.link,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{ref:this.imageRef,alt:t,src:a.regular})))}}]),a}(n.a.Component)),v=function(e){var t=e.images.map((function(e){return n.a.createElement(g,{key:e.id,image:e})}));return n.a.createElement("div",{className:"image-list"},t)},S=3,y=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={images:[]},e.onSearchSubmit=function(){var t=Object(u.a)(o.a.mark((function t(a){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=document.querySelector(".searchBarQuery").value,t.next=3,d.get("/search/photos?per_page=20",{params:{query:a}});case 3:n=t.sent,e.setState({images:n.data.results}),document.querySelector(".button").innerHTML=""===r?"Search":"See more?";case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onButtonClick=Object(u.a)(o.a.mark((function t(){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.querySelector(".searchBarQuery").value,t.next=3,d.get("/search/photos?page=".concat(S,"?per_page=20"),{params:{query:a}});case 3:r=t.sent,e.setState({images:r.data.results}),""===a?document.querySelector(".button").innerHTML="Search":(document.querySelector(".button").innerHTML="See more?",S+=1);case 6:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"ui container gradient-border",style:{marginTop:"10px"}},n.a.createElement(b,{onSubmit:this.onSearchSubmit}),n.a.createElement(v,{images:this.state.images}),n.a.createElement("button",{className:"fluid ui button inverted",onClick:this.onButtonClick},"Search"))}}]),a}(n.a.Component);s.a.render(n.a.createElement(y,null),document.querySelector("#root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.d8477fac.chunk.js.map